apiVersion: v1
kind: Pod
metadata:
  name: test-medium-gpu
  namespace: default
spec:
  restartPolicy: Never
  containers:
  - name: gpu-app
    image: nvidia/cuda:11.8.0-base-ubuntu22.04
    command: ["sleep", "3600"]
    resources:
      requests:
        nvidia.com/mig-2g.20gb: "1"
      limits:
        nvidia.com/mig-2g.20gb: "1"
---
apiVersion: v1
kind: Pod
metadata:
  name: test-small-gpu
  namespace: default
spec:
  restartPolicy: Never
  containers:
  - name: gpu-app
    image: nvidia/cuda:11.8.0-base-ubuntu22.04
    command: ["sleep", "3600"]
    resources:
      requests:
        nvidia.com/mig-1g.10gb: "1"
      limits:
        nvidia.com/mig-1g.10gb: "1"
